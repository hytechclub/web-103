
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Code-Along Â· Web 103 | Hy-Tech Club</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-toggle-chapters/toggle.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="DogFetcherSelfPacedWork.html" />
    
    
    <link rel="prev" href="QueryStylesWarmUp.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Home
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../JsReview/StudentDesc.html">
            
                <a href="../JsReview/StudentDesc.html">
            
                    
                    Week 1 - JavaScript Review
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../JsReview/Web102CheatSheet.html">
            
                <a href="../JsReview/Web102CheatSheet.html">
            
                    
                    Cheat Sheet
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../JsReview/QuizCodeAlong.html">
            
                <a href="../JsReview/QuizCodeAlong.html">
            
                    
                    Code-Along
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../JsReview/SelfPacedWork.html">
            
                <a href="../JsReview/SelfPacedWork.html">
            
                    
                    Self-Paced Work
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../Arrays/StudentDesc.html">
            
                <a href="../Arrays/StudentDesc.html">
            
                    
                    Week 2 - Arrays
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../Arrays/WarmUp.html">
            
                <a href="../Arrays/WarmUp.html">
            
                    
                    Warm-Up
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../Arrays/WatchlistCodeAlong.html">
            
                <a href="../Arrays/WatchlistCodeAlong.html">
            
                    
                    Code-Along
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../Arrays/SelfPacedWork.html">
            
                <a href="../Arrays/SelfPacedWork.html">
            
                    
                    Self-Paced Work
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../Arrays/Challenges.html">
            
                <a href="../Arrays/Challenges.html">
            
                    
                    Challenges
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../Objects/StudentDesc.html">
            
                <a href="../Objects/StudentDesc.html">
            
                    
                    Week 3 - Objects & JSON
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../Objects/WarmUp.html">
            
                <a href="../Objects/WarmUp.html">
            
                    
                    Warm-Up
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../Objects/FoodPickerCodeAlong.html">
            
                <a href="../Objects/FoodPickerCodeAlong.html">
            
                    
                    Code-Along
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../Objects/SelfPacedWork.html">
            
                <a href="../Objects/SelfPacedWork.html">
            
                    
                    Self-Paced Work
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../Callbacks/StudentDesc.html">
            
                <a href="../Callbacks/StudentDesc.html">
            
                    
                    Week 4 - Functions & Callbacks
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../Callbacks/WarmUp.html">
            
                <a href="../Callbacks/WarmUp.html">
            
                    
                    Warm-Up
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../Callbacks/FunktionalCodeAlong.html">
            
                <a href="../Callbacks/FunktionalCodeAlong.html">
            
                    
                    Code-Along
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../Callbacks/SelfPacedWork.html">
            
                <a href="../Callbacks/SelfPacedWork.html">
            
                    
                    Self-Paced Work
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../Callbacks/Challenges.html">
            
                <a href="../Callbacks/Challenges.html">
            
                    
                    Challenges
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../ArrowFunctions/StudentDesc.html">
            
                <a href="../ArrowFunctions/StudentDesc.html">
            
                    
                    Week 5 - Arrow Functions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../ArrowFunctions/Worksheet.html">
            
                <a href="../ArrowFunctions/Worksheet.html">
            
                    
                    Worksheet
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../ArrowFunctions/MascotsCodeAlong.html">
            
                <a href="../ArrowFunctions/MascotsCodeAlong.html">
            
                    
                    Code-Along
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../ArrowFunctions/SelfPacedWork.html">
            
                <a href="../ArrowFunctions/SelfPacedWork.html">
            
                    
                    Self-Paced Work
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../MidSemesterReview/StudentDesc.html">
            
                <a href="../MidSemesterReview/StudentDesc.html">
            
                    
                    Week 6 - Mid-Semester Review
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../MidSemesterReview/BugFixing.html">
            
                <a href="../MidSemesterReview/BugFixing.html">
            
                    
                    Bug Fixing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../MidSemesterReview/Challenges.html">
            
                <a href="../MidSemesterReview/Challenges.html">
            
                    
                    Challenges
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../MidSemesterReview/Library.html">
            
                <a href="../MidSemesterReview/Library.html">
            
                    
                    Library
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="StudentDesc.html">
            
                <a href="StudentDesc.html">
            
                    
                    Week 7 - Consuming an API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="QueryStylesWarmUp.html">
            
                <a href="QueryStylesWarmUp.html">
            
                    
                    Warm-Up
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.8.2" data-path="DogFetcherCodeAlong.html">
            
                <a href="DogFetcherCodeAlong.html">
            
                    
                    Code-Along
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="DogFetcherSelfPacedWork.html">
            
                <a href="DogFetcherSelfPacedWork.html">
            
                    
                    Self-Paced Work
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../ApiReviewExamples/StudentDesc.html">
            
                <a href="../ApiReviewExamples/StudentDesc.html">
            
                    
                    Week 8 - API Review & Examples
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../ApiReviewExamples/CatSayCodeAlong.html">
            
                <a href="../ApiReviewExamples/CatSayCodeAlong.html">
            
                    
                    Code-Along
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../ApiReviewExamples/CatSaySelfPacedWork.html">
            
                <a href="../ApiReviewExamples/CatSaySelfPacedWork.html">
            
                    
                    Self-Paced Work
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../ApiReviewExamples/Examples.html">
            
                <a href="../ApiReviewExamples/Examples.html">
            
                    
                    Examples
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.3.1" data-path="../ApiReviewExamples/Examples/Weather.html">
            
                <a href="../ApiReviewExamples/Examples/Weather.html">
            
                    
                    Weather
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.2" data-path="../ApiReviewExamples/Examples/Trivia.html">
            
                <a href="../ApiReviewExamples/Examples/Trivia.html">
            
                    
                    Trivia
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.3" data-path="../ApiReviewExamples/Examples/MacroRandomizer.html">
            
                <a href="../ApiReviewExamples/Examples/MacroRandomizer.html">
            
                    
                    Macro Randomizer
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../ApiPractice/StudentDesc.html">
            
                <a href="../ApiPractice/StudentDesc.html">
            
                    
                    Week 9 - API Practice
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../ApiPractice/ColorSchemer.html">
            
                <a href="../ApiPractice/ColorSchemer.html">
            
                    
                    Color Schemer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../ApiPractice/TvCharacters.html">
            
                <a href="../ApiPractice/TvCharacters.html">
            
                    
                    TV Characters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../ApiPractice/EmojiCrush.html">
            
                <a href="../ApiPractice/EmojiCrush.html">
            
                    
                    Emoji Crush
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../FinalProject/StudentDesc.html">
            
                <a href="../FinalProject/StudentDesc.html">
            
                    
                    Final Project
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Code-Along</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="code-along-dog-fetcher">Code-Along: Dog Fetcher</h1>
<p>Follow these instructions to build a website that will provide the user with some pictures of dogs.</p>
<p><a href="https://replit.com/@HylandOutreach/DogFetcher" target="_blank">Click here to view the Dog Fetcher Starter Repl project.</a> Fork the project to begin the activity.</p>
<h2 id="part-one-background">Part One: Background</h2>
<p>Typically, dogs play fetch. In this activity, <em>your code</em> is going to be playing fetch, and the things that your code will be fetching will be dogs!</p>
<p><img src="Assets/DogPlayingFetch.jpg" alt=""></p>
<h3 id="the-starter-code">The Starter Code</h3>
<p>The starter project has quite a bit of code, but it&apos;s all HTML and CSS! In the <strong>index.html</strong> file, there are a few elements of note:</p>
<ul>
<li>An <code>&lt;input&gt;</code> with an <code>id</code> of <code>&quot;num-dogs&quot;</code></li>
<li>A <code>&lt;button&gt;</code> with an <code>onclick</code> of <code>&quot;getDogs()&quot;</code></li>
<li>An <code>&lt;img&gt;</code> with an <code>id</code> of <code>&quot;loading&quot;</code><ul>
<li>This is currently hidden using CSS</li>
</ul>
</li>
<li>A <code>&lt;div&gt;</code> with an <code>id</code> of <code>&quot;dog-imgs&quot;</code></li>
</ul>
<p>All of these elements will be necessary to make the website functional.</p>
<h3 id="the-shibeonline-api">The <a href="https://shibe.online/" target="_blank">shibe.online</a> API</h3>
<p>The code needs something to fetch, and luckily, there is an API that provides random pictures of shiba inu dogs! These adorable pups are also known as &quot;shibes&quot; in internet parlance - hence the name, <a href="https://shibe.online/" target="_blank">shibe.online</a>. Take a look at the homepage to learn more about how the API works.</p>
<p>The <em>base url</em> is <code>https://shibe.online/api/shibes</code>. For the purposes of this activity, the only relevant <em>query parameter</em> will be <code>count</code>. The response will be a JSON array of strings; each one a URL pointing to a picture of a shibe.</p>
<p>Putting it all together, here&apos;s an example URL: <a href="https://shibe.online/api/shibes?count=3" target="_blank"><code>https://shibe.online/api/shibes?count=3</code></a></p>
<p>The response should look something like this:</p>
<pre><code class="lang-json">[
  <span class="hljs-string">&quot;https://cdn.shibe.online/shibes/039e86853cb65ed16cb3823a4fd9528ae374cfec.jpg&quot;</span>,
  <span class="hljs-string">&quot;https://cdn.shibe.online/shibes/6179b94f4e16762f29e69b48a45f16372b11ed72.jpg&quot;</span>,
  <span class="hljs-string">&quot;https://cdn.shibe.online/shibes/e0419f6e1f00e800bada84233b0bad86723077ed.jpg&quot;</span>
]
</code></pre>
<p>Try opening one of the URLs to see the picture! Here is one of them:</p>
<p><img src="https://cdn.shibe.online/shibes/6179b94f4e16762f29e69b48a45f16372b11ed72.jpg" alt=""></p>
<h3 id="the-plan">The Plan</h3>
<p>To utilize this API, the code should:</p>
<ul>
<li>Make a request to the base URL using <code>fetch</code><ul>
<li>Use the <code>&lt;input&gt;</code> to determine the <code>count</code> to pass in as a query parameter</li>
</ul>
</li>
<li>Extract the image URLs from the response</li>
<li>Create new <code>&lt;img&gt;</code> elements, one for each URL returned</li>
</ul>
<h2 id="part-two-button-begins-&#x1F987;">Part Two: Button Begins &#x1F987;</h2>
<p>Currently, there is no JavaScript code in the project. That&apos;s bad! Start things off by hooking up the <code>&lt;button onclick=&quot;getDogs()&quot;&gt;</code> with a new function definition.</p>
<ol>
<li>Open the <strong>script.js</strong> file for editing</li>
<li>Define a new function named <code>getDogs</code></li>
<li>In the body of the function, create a new variable named <code>loadingImg</code></li>
<li>Set <code>loadingImg</code> to grab the <code>&lt;img id=&quot;loading&quot;&gt;</code> picture<ul>
<li>Use <code>document.querySelector</code> for this</li>
</ul>
</li>
<li>On the next line, set the <code>style.display</code> of the image to <code>&quot;inline-flex&quot;</code><ul>
<li>This will make the loading indicator appear</li>
</ul>
</li>
</ol>
<p>At this point, run the project, click the &quot;Get Dogs&quot; button, and verify that the loading indicator image appears! The code should look something like this:</p>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDogs</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">let</span> loadingImg = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;#loading&quot;</span>);
  loadingImg.style.display = <span class="hljs-string">&quot;inline-flex&quot;</span>;
}
</code></pre>
<h2 id="part-three-fetching-two-dogs-&#x1F415;&#x1F415;">Part Three: Fetching Two Dogs &#x1F415;&#x1F415;</h2>
<p>Now the button is ready, so it&apos;s time to try to get some dogs! To start, the code can ignore the <code>&lt;input&gt;</code> and just try to get two dogs.</p>
<h3 id="trying-to-fetch-with-fetch">Trying to Fetch with <code>fetch</code></h3>
<p>Use the <code>fetch</code> function to send a request out to the API to <em>try to</em> get some shibe pics.</p>
<ol>
<li>Make a new line in the body of the <code>getDogs</code> function</li>
<li>Create a new variable named <code>response</code></li>
<li>Set <code>response</code> to equal a call to <code>fetch</code><ul>
<li>Pass in `<code>https://shibe.online/api/shibes?count=2</code>` as the URL</li>
</ul>
</li>
<li>Under that, create a variable named <code>responseJson</code></li>
<li>Set <code>responseJson</code> to a call to the <code>json()</code> function on the <code>response</code> variable</li>
<li>Finally, call <code>alert</code> on <code>responseJson</code> to display the result</li>
</ol>
<p>With that, run the code, click the &quot;Get Dogs&quot; button again, and see what happens. It might not quite work... it should display a pop-up, but there is an issue with this code:</p>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> response = fetch(<span class="hljs-string">`https://shibe.online/api/shibes?count=2`</span>);
<span class="hljs-keyword">let</span> responseJson = response.json();
alert(responseJson);
</code></pre>
<h3 id="catching-an-error-with-trycatch">Catching an Error with <code>try</code>/<code>catch</code></h3>
<p>So something is wrong, and it <em>may be</em> possible to debug it, but it is also possible for the <em>code itself</em> to catch the error! Use the <code>try</code>/<code>catch</code> structure to try to figure out what is happening.</p>
<ol>
<li>Above the current variables, <em>declare</em> <code>response</code> and <code>responseJson</code> without giving them a value<ul>
<li>This will allow the code to use them in and out of the <code>try</code> block</li>
</ul>
</li>
<li>Under that, create a <code>try</code>/<code>catch</code> structure<ul>
<li>Start with the <code>try</code> keyword</li>
<li>Then, add curly brackets <code>{</code> and <code>}</code></li>
<li>After that, add the <code>catch</code></li>
<li>For the <code>catch</code>, add parentheses <code>(</code> and <code>)</code></li>
<li>Put <code>e</code> within the parentheses to represent the error</li>
<li>Finally, add another set of curly brackets <code>{</code> and <code>}</code></li>
</ul>
</li>
<li>Move the original variable sets into the <code>try</code> block<ul>
<li>Make sure to get rid of the <code>let</code> because these already exist</li>
</ul>
</li>
<li>In the <code>catch</code> block, call <code>alert</code> on the error</li>
<li>Also in the <code>catch</code> block, <code>return</code> from the function</li>
</ol>
<p>The modified code should look something like this:</p>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> response, responseJson;

<span class="hljs-keyword">try</span> {
  response = fetch(<span class="hljs-string">`https://shibe.online/api/shibes?count=2`</span>);
  responseJson = response.json();
} <span class="hljs-keyword">catch</span> (e) {
  alert(e);
  <span class="hljs-keyword">return</span>;
}
</code></pre>
<p>Now, try running the project and clicking the button. It still will not work, but at least the error should appear in a pop-up! It should say the following:</p>
<pre><code>TypeError: response.json is not a function
</code></pre><h3 id="fixing-the-error-with-asynchronicity">Fixing the Error with Asynchronicity</h3>
<p>Hmm... why would <code>response.json</code> not be a function? The <code>fetch</code> call <em>should</em> return a <code>Response</code> object... or should it? What does the <code>fetch</code> function return again?</p>
<p><strong>The <code>fetch</code> function returns a Promise object - so it must be <code>await</code>ed to yield the actual result!</strong></p>
<ol>
<li>Start by adding the <code>async</code> keyword to the <code>getDogs</code> function definition</li>
<li>Next, add the <code>await</code> keyword in front of the <code>fetch</code> call</li>
<li>Also, add the <code>await</code> keyword in front of the <code>json()</code> call</li>
<li>Additionally, add a <code>finally</code> block after the <code>catch</code> block</li>
<li>There, make the loading indicator disappear<ul>
<li>Use <code>.style.display = &quot;none&quot;</code> to accomplish this</li>
</ul>
</li>
<li>Additionally, for testing, purposes, call <code>alert</code> on <code>responseJson</code></li>
</ol>
<p>Run the program, click the &quot;Get Dogs&quot; button again, and verify that some dog image URLs appear! Copy and paste one into a new tab to see a shibe like <a href="https://cdn.shibe.online/shibes/039e86853cb65ed16cb3823a4fd9528ae374cfec.jpg" target="_blank">this</a>.</p>
<p>At this point, the entire code in the <strong>script.js</strong> file should look something like this:</p>
<pre><code class="lang-js"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDogs</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">let</span> loadingImg = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;#loading&quot;</span>);
  loadingImg.style.display = <span class="hljs-string">&quot;inline-flex&quot;</span>;

  <span class="hljs-keyword">let</span> response, responseJson;

  <span class="hljs-keyword">try</span> {
    response = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">`https://shibe.online/api/shibes?count=2`</span>);
    responseJson = <span class="hljs-keyword">await</span> response.json();
  } <span class="hljs-keyword">catch</span> (e) {
    alert(e);
    <span class="hljs-keyword">return</span>;
  } <span class="hljs-keyword">finally</span> {
    loadingImg.style.display = <span class="hljs-string">&quot;none&quot;</span>;
  }

  alert(responseJson);
}
</code></pre>
<h2 id="part-four-displaying-the-images">Part Four: Displaying the Images</h2>
<p>The <code>fetch</code> request is actually working! The JavaScript code is talking to an API and retrieving something from the internet. The next step is to display the results in a nicer way.</p>
<h3 id="prepping-the-container">Prepping the Container</h3>
<p>There is already a <code>&lt;div id=&quot;dog-imgs&quot;&gt;</code> container in the <strong>index.html</strong> file - this will hold the new pictures of dogs. The first step will be to grab it, and clear out anything that&apos;s in it.</p>
<ol>
<li>Remove the <code>alert</code> from the body of the <code>getDogs</code> function</li>
<li>In its place, create a new variable named <code>dogImgsDiv</code></li>
<li>Use <code>document.querySelector</code> to grab the <code>&lt;div id=&quot;dog-imgs&quot;&gt;</code> and store it in the variable</li>
<li>Under that, set the <code>innerHTML</code> of the <code>dogImgsDiv</code> to be <code>&quot;&quot;</code></li>
</ol>
<p>The code for this part should look something like this:</p>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> dogImgsDiv = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;#dog-imgs&quot;</span>);
dogImgsDiv.innerHTML = <span class="hljs-string">&quot;&quot;</span>;
</code></pre>
<h3 id="looping-the-response">Looping the Response</h3>
<p>The goal is to create one picture element <em>for each</em> picture URL in the response. The <code>responseJson</code> object should be an array that stores something like this:</p>
<pre><code>[&quot;https://cdn.shibe.online/shibes/9e5687af188a54e801762da4ee920f870e3db633.jpg&quot;,&quot;https://cdn.shibe.online/shibes/3e918c16e267262d9affef660758b76368f49125.jpg&quot;]
</code></pre><p>The <code>forEach</code> array function will be perfect for this! First, establish the loop.</p>
<ol>
<li>Make a new line at the bottom of the <code>getDogs</code> function</li>
<li>There, call the <code>forEach()</code> function on <code>responseJson</code></li>
<li>Between the parentheses, create a new <em>arrow function</em><ul>
<li>It should have one parameter: <code>dogUrl</code></li>
<li>It should have an arrow: <code>=&gt;</code></li>
<li>It should have curly brackets: <code>{</code> and <code>}</code></li>
</ul>
</li>
</ol>
<p>The loop code should look something like this:</p>
<pre><code class="lang-js">responseJson.forEach(dogUrl =&gt; {});
</code></pre>
<h3 id="adding-each-image-to-the-container">Adding Each Image to the Container</h3>
<p>Now the code is setup to run a block for every image URL retrieved from <strong>shibe.online</strong>. For each of them, a new <code>&lt;img&gt;</code> element should be created and added to the <code>dogImgsDiv</code> container!</p>
<ol>
<li>Within the <code>forEach</code> arrow function body, make a new line</li>
<li>There, create a new variable named <code>newDogImg</code></li>
<li>Set <code>newDogImg</code> to be a new <code>&quot;img&quot;</code> element using <code>document.createElement</code></li>
<li>Under that, set the <code>src</code> of <code>newDogImg</code> to the <code>dogUrl</code> value</li>
<li>Under that, append the <code>newDogImg</code> element to the <code>dogImgsDiv</code> element<ul>
<li>Use <code>appendChild</code> to accomplish this</li>
</ul>
</li>
</ol>
<p>Run the project, click the &quot;Get Dogs&quot; button, and verify that the dog images actually appear now! Click it a few times to see some different pairs of dogs. The code in the body of the arrow function should look something like this:</p>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> newDogImg = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">&quot;img&quot;</span>);
newDogImg.src = dogUrl;
dogImgsDiv.appendChild(newDogImg);
</code></pre>
<h2 id="part-five-dynamic-number-of-dogs">Part Five: Dynamic Number of Dogs</h2>
<p>The final step is to actually take into account the text box - this will allow the user to grab a specific number of shibes!</p>
<ol>
<li>Make a new line <em>above</em> the <code>let response, responseJson</code> line in the body of the <code>getDogs</code> function</li>
<li>There, create a new variable named <code>numDogsInput</code></li>
<li>Set <code>numDogsInput</code> to be the <code>&lt;input id=&quot;num-dogs&quot;&gt;</code> element<ul>
<li>Use <code>document.querySelector</code></li>
</ul>
</li>
<li>Under that, create a new variable named <code>numDogs</code></li>
<li>Set <code>numDogs</code> to be the <code>value</code> of the <code>numDogsInput</code> element</li>
<li>Find the <code>fetch</code> call</li>
<li>In the <code>fetch</code> URL, replace the <code>2</code> with the interpolated <code>numDogs</code> value<ul>
<li>Use <code>${numDogs}</code></li>
</ul>
</li>
</ol>
<p>Run the project, enter a number of dogs, click the &quot;Get Dogs&quot; button, and verify that the proper number of dogs appears!</p>
<h2 id="conclusion">Conclusion</h2>
<p>Wow. There sure are some dogs in that API! In this activity, the code used <code>fetch</code> to grab data from an API (using an HTTP GET request) and display images from it.</p>
<p>By the end of the code-along, the <strong>script.js</strong> file should look something like this:</p>
<pre><code class="lang-js"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDogs</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">let</span> loadingImg = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;#loading&quot;</span>);
  loadingImg.style.display = <span class="hljs-string">&quot;inline-flex&quot;</span>;

  <span class="hljs-keyword">let</span> numDogsInput = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;#num-dogs&quot;</span>);
  <span class="hljs-keyword">let</span> numDogs = numDogsInput.value;

  <span class="hljs-keyword">let</span> response, responseJson;

  <span class="hljs-keyword">try</span> {
    response = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">`https://shibe.online/api/shibes?count=<span class="hljs-subst">${numDogs}</span>`</span>);
    responseJson = <span class="hljs-keyword">await</span> response.json();
  } <span class="hljs-keyword">catch</span> (e) {
    alert(e);
    <span class="hljs-keyword">return</span>;
  } <span class="hljs-keyword">finally</span> {
    loadingImg.style.display = <span class="hljs-string">&quot;none&quot;</span>;
  }

  <span class="hljs-keyword">let</span> dogImgsDiv = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;#dog-imgs&quot;</span>);
  dogImgsDiv.innerHTML = <span class="hljs-string">&quot;&quot;</span>;

  responseJson.forEach(dogUrl =&gt; {
    <span class="hljs-keyword">let</span> newDogImg = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">&quot;img&quot;</span>);
    newDogImg.src = dogUrl;
    dogImgsDiv.appendChild(newDogImg);
  });
}
</code></pre>
<h2 id="next-steps">Next Steps</h2>
<p><a href="DogFetcherSelfPacedWork.html">Click here to see how you can make more updates to the Dog Fetcher site!</a></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="QueryStylesWarmUp.html" class="navigation navigation-prev " aria-label="Previous page: Warm-Up">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="DogFetcherSelfPacedWork.html" class="navigation navigation-next " aria-label="Next page: Self-Paced Work">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Code-Along","level":"1.8.2","depth":2,"next":{"title":"Self-Paced Work","level":"1.8.3","depth":2,"path":"ApiConsumption/DogFetcherSelfPacedWork.md","ref":"ApiConsumption/DogFetcherSelfPacedWork.md","articles":[]},"previous":{"title":"Warm-Up","level":"1.8.1","depth":2,"path":"ApiConsumption/QueryStylesWarmUp.md","ref":"ApiConsumption/QueryStylesWarmUp.md","articles":[]},"dir":"ltr"},"config":{"plugins":["toggle-chapters","scripts"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"scripts":{"files":["./passwordProtectedPages.js"]},"toggle-chapters":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"StudentDesc.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Web 103 | Hy-Tech Club","gitbook":"*"},"file":{"path":"ApiConsumption/DogFetcherCodeAlong.md","mtime":"2024-09-04T21:42:21.285Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2024-09-04T21:42:52.131Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-toggle-chapters/toggle.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-scripts/5b9fffafe13ac3cee5d3880ce8c56b27-passwordProtectedPages.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

